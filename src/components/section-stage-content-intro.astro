---
import imageIphone from "../assets/images/iphone-sascha.webp";
import imageIphone2x from "../assets/images/iphone-sascha@2x.webp";
import imageIphone4x from "../assets/images/iphone-sascha@4x.webp";
import {getBreakpoints} from "../helpers/tailwind-helpers";
import Editor from "./editor";
import {numToPx} from "../helpers/converter-helpers";
import {Cv, Email} from "../data/resources";
import ClickTracker from "./click-tracker.astro";
import Icon from "./icons/icon.astro";

const breakpoints = getBreakpoints();
---

<div
    class="content w-full md:w-auto pt-20 md:pt-32 pb-20 inline-flex items-center flex-col-reverse md:flex-row-reverse gap-x-32 gap-y-8"
>
    <div class="flex flex-col gap-y-8 relative w-full md:w-auto">
        <Icon
            iconId="saschaklatt"
            class="w-40 h-40 md:w-24 md:h-24 absolute -top-60 left-1/2 text-neutral-900 md:left-auto md:-top-5 md:right-0 rotate-12 drop-shadow-2xl"
        />
        <h1 class="text-center md:text-left drop-shadow-2xl" slot="stage">
            <span class="block font-bold uppercase mb-4 text-2xl md:text-4xl text-neutral-900">Sascha Klatt</span>
            <span class="font-serif block text-4xl md:text-6xl">full-stack<br />web developer</span>
        </h1>
        <Editor
            client:idle
            className="drop-shadow-2xl"
            panes={[
                {
                    tab: "About me",
                    lines: [
                        "ðŸ™‹ðŸ»â€â™‚ï¸ Hi, I'm Sascha",
                        "",
                        "ðŸ’» Freelance web developer",
                        "ðŸ—¿ 13 years of work experience",
                        "ðŸŽ¯ Focus on JS/TS and Node.js",
                        "ðŸ§© Headless CMS integrator",
                        "ðŸ‘¨ðŸ»â€ðŸŽ¨ Eye for aesthetics",
                        "",
                        "ðŸƒ Climber, Runner, Cyclist",
                    ],
                },
                {
                    tab: "Tech-stack",
                    lines: [
                        "ðŸ’» I'm experienced with:",
                        "- JavaScript / TypeScript",
                        "- React / Next.js / Astro",
                        "- Node.js",
                        "- Contentful / Sanity",
                        "- MongoDB / MySQL",
                        "- GraphQL / REST APIs",
                        "- Vercel / Netlify",
                        "- Figma",
                    ],
                },
            ]}
        />

        <div class="flex flex-col md:flex-row gap-y-2 md:gap-x-4 md:gap-y-0 drop-shadow-2xl">
            <ClickTracker trackingEvent={{action: "click", category: "cta_email", name: "cta_email_stage-main"}}>
                <a {...Email.link} class="btn-accent w-full md:w-auto">Contact me!</a>
            </ClickTracker>
            <ClickTracker trackingEvent={{action: "click", category: "cta_cv", name: "cta_cv_stage-main"}}>
                <a {...Cv.link} class="btn-neutral w-full md:w-auto">Download CV</a>
            </ClickTracker>
        </div>
    </div>
    <div class="relative">
        <picture>
            <source srcset={`${imageIphone.src}, ${imageIphone2x.src} 2x`} media={`(max-width: ${numToPx(breakpoints.md)})`} />
            <source
                srcset={`${imageIphone2x.src}, ${imageIphone4x.src} 2x`}
                media={`(min-width: ${numToPx(breakpoints.md + 1)})`}
            />
            <img
                class="-rotate-6 -translate-x-10 md:translate-x-8 lg:translate-x-0 w-32 md:w-auto drop-shadow-2xl"
                src={imageIphone2x.src}
                width="251"
                height="451"
                alt="An iPhone showing Sascha Klatt."
            />
        </picture>
    </div>
</div>
